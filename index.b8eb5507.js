var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,a.call(o.exports,o,o.exports),o.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},e.parcelRequired7c6=a);var o=a("i3bGI");var l=a("2nhTy");const s=(e,t)=>{try{const n=JSON.stringify(t);localStorage.setItem(e,n)}catch(e){console.error("Set state error: ",e.message)}};(e=>{try{const t=localStorage.getItem(e);null===t||JSON.parse(t)}catch(e){console.error("Get state error: ",e.message)}})("genres");a("8Yq9A");const i=document.querySelector(".team__list"),r=[{img:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Cat03.jpg/1200px-Cat03.jpg",alt:"кто-то тут есть",name:"Maksym Kidanov",pos:"Developer",git:"https://github.com/Eldiwr",linked:"https://www.linkedin.com/in/maksym-kidanov-53b08b21a/",insta:"https://www.instagram.com/eldiwr/"},{img:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Cat03.jpg/1200px-Cat03.jpg",alt:"кто-то тут есть",name:"Maksym Kidanov",pos:"Developer",git:"https://github.com/Eldiwr",linked:"https://www.linkedin.com/in/maksym-kidanov-53b08b21a/",insta:"https://www.instagram.com/eldiwr/"},{img:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Cat03.jpg/1200px-Cat03.jpg",alt:"кто-то тут есть",name:"Maksym Kidanov",pos:"Developer",git:"https://github.com/Eldiwr",linked:"https://www.linkedin.com/in/maksym-kidanov-53b08b21a/",insta:"https://www.instagram.com/eldiwr/"},{img:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Cat03.jpg/1200px-Cat03.jpg",alt:"кто-то тут есть",name:"Maksym Kidanov",pos:"Developer",git:"https://github.com/Eldiwr",linked:"https://www.linkedin.com/in/maksym-kidanov-53b08b21a/",insta:"https://www.instagram.com/eldiwr/"}].map((({img:e,alt:t,name:n,pos:a,git:o,linked:l,insta:s})=>`<li class="team__item">                          \n                <img src="${e}" alt="${t}" width = 260> \n\n                <div class="team-div">\n                    <h3 class="team-div__employee">${n}</h3>\n                    <p class="team-div__position">${a}</p>\n                    <ul class="team-div__list">                \n                        <li class="team-div__item">\n                            <a class="team-div__link" href="${s}">\n                                <svg class="team-div__icon" width="20" height="20"> \n                                    <use href="/src/images/social-icons.svg#icon-instagram"></use> \n                                </svg>\n                            </a>\n                        </li>\n                        <li class="team-div__item">\n                            <a class="team-div__link" href="${o}">\n                                <svg class="team-div__icon" width="20" height="20"> \n                                    <use href="/src/images/social-icons.svg#icon-linkedin"></use> \n                                </svg>\n                            </a>\n                        </li>\n                        <li class="team-div__item">\n                            <a class="team-div__link" href="${l}">\n                                <svg class="team-div__icon" width="20" height="20"> \n                                    <use href="/src/images/social-icons.svg#icon-git"></use> \n                                </svg>\n                            </a>\n                        </li>                                  \n                    </ul>\n                </div>\n            </li>`)).join("");function c({poster_path:e,title:t,vote_average:n,vote_count:a,popularity:o,original_title:l,listOfGenders:s,overview:i,id:r}){return`\n    <div class="modal" data-modal-id="${r}">\n        <div class="modal__poster">\n            <img\n                class="modal__img"\n                src="https://image.tmdb.org/t/p/w500${e}"\n                alt="${t}"\n                />\n        </div>\n    \n        <div class="modal__content">\n            <h2 class="modal__content-title">${t}</h2>\n            <table class="modal__content-info">\n                <tr>\n                    <td class="modal__content-name">Vote / Votes</td>\n                    <td class="modal__content-name-value">\n                        <span class="modal__content-rate">${n}</span>\n                        /\n                        <span class="modal__content-rates">${a}</span>\n                    </td>\n                </tr>\n                <tr>\n                    <td class="modal__content-name">Popularity</td>\n                    <td class="modal__content-name-value">${o}</td>\n                </tr>\n                <tr>\n                    <td class="modal__content-name">Original Title</td>\n                    <td class="modal__content-name-value--title">${l}</td>\n                </tr>\n                <tr>\n                    <td class="modal__content-name">Genre</td>\n                    <td class="modal__content-name-value">${s}</td>\n                </tr>\n            </table>\n        \n            <div class="modal__about">\n                <h3 class="modal__about-title">About</h3>\n                <p class="modal__about-description">${i}</p>\n            </div>\n        \n            <div class="modal__btns">\n                <button class="modal__btn add-to-watched" type="button" data-modal-action="${r}">\n                Add to watched\n                </button>\n                <button class="modal__btn add-to-queue" type="button" data-modal-action="${r}">\n                Add to queue\n                </button>\n                \x3c!-- <button  type="button" class="modal__btn player" data-player-action="${r}">watch the trailer</button>  --\x3e\n\n            </div>\n            <button class="modal__close" type="button" data-modal-close aria-label="close-modal">\n                <svg class="modal__close-svg" width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M8 8L22 22" stroke="black" stroke-width="2"/>\n                    <path d="M8 22L22 8" stroke="black" stroke-width="2"/>\n                </svg>\n            </button>\n        </div>\n    </div>\n    `}i.insertAdjacentHTML("beforeend",r),a("04jNI");const d=new(0,(o=a("i3bGI")).default);let m=null,g="";const u={gallery:document.querySelector(".gallery"),backdrop:document.querySelector(".modal-backdrop"),closeFilmModalBtn:"",addToWatched:"",addToQueue:""};u.gallery.addEventListener("click",(function(e){if(e.preventDefault(),m=e.target.dataset.id,p(m),"IMG"!==e.target.nodeName)return;f()}));const p=async e=>{try{const t=await d.fetchFilmById(e),n=await t.genres.map((e=>e.name)).join(", "),a={...t,listOfGenders:n};return g=c(a),u.backdrop.innerHTML=g,u.closeFilmModalBtn=document.querySelector(".modal__close"),u.addToWatched=document.querySelector(".add-to-watched"),u.addToQueue=document.querySelector(".add-to-queue"),u.closeFilmModalBtn.addEventListener("click",_),u.backdrop.addEventListener("click",v),window.addEventListener("keydown",h),u.backdrop}catch(e){console.log(e.message)}};function _(e){e.preventDefault(),f(),u.backdrop.innerHTML="",console.log(u.backdrop),w()}function h(e){e.preventDefault(),"Escape"===e.code&&(f(),u.backdrop.innerHTML="",w())}function v(e){e.preventDefault(),e.currentTarget===e.target&&(f(),u.backdrop.innerHTML="",w())}function f(){u.backdrop.classList.toggle("is-hidden")}function w(){u.closeFilmModalBtn.removeEventListener("click",_),window.removeEventListener("keydown",h),u.backdrop.removeEventListener("click",v)}o=a("i3bGI");(new(0,o.default)).fetchGenres().then((e=>{s("genres",e)}));document.querySelector(".pagination ul").addEventListener("click",(function(e){refs.gallery.innerHTML="",console.log(e.target),e.target===document.querySelector(".arrow-left")&&(filmsApi.pageDecrement(),filmsApi.fetchTrendingFilms().then((t=>{console.log(t);const n=t.page,a=t.total_pages;console.log(e.target),renderHomeGallery(t.results),pagination(a,n),console.log(Number(document.querySelector(".numb").textContent))})));const t=document.querySelectorAll(".numb");for(const n of t)e.target===n&&(filmsApi.setPage(Number(e.target.textContent)),filmsApi.fetchTrendingFilms().then((t=>{console.log(t);const n=t.page,a=t.total_pages;console.log(e.target),renderHomeGallery(t.results),pagination(a,n)})));e.target===document.querySelector(".arrow-right")&&(filmsApi.pageIncrement(),filmsApi.fetchTrendingFilms().then((e=>{console.log(e);const t=e.page,n=e.total_pages;renderHomeGallery(e.results),pagination(n,t)})))}));const b=new(0,o.default),y={searchForm:document.querySelector(".header-form"),searchButton:document.querySelector(".header-form__btn"),filmCard:document.querySelector(".gallery"),gallery:document.querySelector(".gallery__list")};function k(e){y.gallery.innerHTML=e.map((({genre_ids:e,id:t,title:n,poster_path:a,release_date:o,vote_average:l})=>`\n        <li class="gallery__item">\n                <img class="gallery__image" src="${a?`https://image.tmdb.org/t/p/w500${a}`:"https://via.placeholder.com/150/360505/FFFFFF/?Text=No-poster"}" alt="Movie poster of ${n}" loading="lazy" data-id="${t}"/>\n                <div class="info">\n                    <h2 class="info-title">${n}</h2>\n\t\t\t\t\t\t\t\t\t\t<p class="info-meta">${e.slice(0,2)} | ${o.slice(0,4)}<span class="info-rate">${l.toFixed(2)}</span></p>\n                </div>\n        </li>`)).join("")}b.fetchTrendingFilms().then((e=>{k(e.results)})),b.fetchTrendingFilms().then((e=>{console.log(e);const t=e.page,n=e.total_pages;k(e.results),(0,l.default)(n,t)}));document.querySelector(".pagination ul").addEventListener("click",(function(e){y.gallery.innerHTML="",console.log(e.target),e.target===document.querySelector(".arrow-left")&&(b.pageDecrement(),b.fetchTrendingFilms().then((t=>{console.log(t);const n=t.page,a=t.total_pages;console.log(e.target),k(t.results),(0,l.default)(a,n),console.log(Number(document.querySelector(".numb").textContent))})));const t=document.querySelectorAll(".numb");for(const n of t)e.target===n&&(b.setPage(Number(e.target.textContent)),b.fetchTrendingFilms().then((t=>{console.log(t);const n=t.page,a=t.total_pages;console.log(e.target),k(t.results),(0,l.default)(a,n)})));e.target===document.querySelector(".arrow-right")&&(b.pageIncrement(),b.fetchTrendingFilms().then((e=>{console.log(e);const t=e.page,n=e.total_pages;k(e.results),(0,l.default)(n,t)})))}));
//# sourceMappingURL=index.b8eb5507.js.map
